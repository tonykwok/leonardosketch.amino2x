<html>
<head>
<script src="../leonardosketch-amino2x/dist/amino.js" language="JavaScript"></script>
<style type="text/css">
body, canvas { border: 1px solid black; padding: 0; margin: 0;}
#foo { border: 1px solid black; }
body {font-size: 500%; }
</style>
</head>
<body>
<!--
<canvas id="canvas" width="100" height="100"></canvas>
-->
<div id="foo">foo</div>

hello
<script language="JavaScript">
/*
function distance(x1,y1,x2,y2) {
    var x = x2-x1;
    var y = y2-y1;
    return Math.sqrt(x*x+y*y);
}


var canvas = document.getElementById("canvas");

var runner = new Runner();
runner.setCanvas(canvas);
runner.setFPS(30);
runner.setBackground("white");



var board = new Group();
var tp = new Rect().set(0,0,1024,30).setFill("blue");
var bottom = new Rect().set(0,670,1024,30).setFill("blue");
var left = new Rect().set(0,0,30,700).setFill("blue");
var right = new Rect().set(1024-30,0,30,700).setFill("blue");
//board.add(top).add(bottom).add(left).add(right);
board.add(tp).add(bottom).add(left).add(right);
board.add(new Rect().set(300,30,3,700-60).setFill("#444444"));
board.add(new Rect().set(1024-300,30,3,700-60).setFill("#444444"));
runner.setRoot(board);


var puck = new Circle().set(200,200,20).setFill("red");
puck.vx = 8.5;
puck.vy = 7.5;
puck.ax = 0.999;
puck.ay = 0.999;
board.add(puck);


var paddle1 = new Circle().set(100,350,40).setFill("green");
var paddle2 = new Circle().set(1024-100,350,40).setFill("green");
board.add(paddle1);
board.add(paddle2);        

runner.addCallback(function() {
    var x = puck.getX();
    var y = puck.getY();
    //console.log("radius = " + puck.getRadius());
    if(x + puck.getRadius() > right.getX()) {
        puck.vx = -puck.vx;
    }
    if(x - puck.getRadius() < left.getX()+left.getWidth()) {
        puck.vx = -puck.vx;
    }
    if(y + puck.getRadius() > bottom.getY()) {
        puck.vy = -puck.vy;
    }
    if(y - puck.getRadius() < tp.getY()+tp.getHeight()) {
        puck.vy = -puck.vy;
    }
    
    puck.vx *= puck.ax;
    puck.vy *= puck.ay;
    x += puck.vx;
    y += puck.vy;
    
    puck.setX(x);
    puck.setY(y);
});

runner.start();
*/
if (window.PalmSystem) {
    window.PalmSystem.stageReady();
}        
/*
var canvas = document.getElementById("canvas");
console.log("canvas = " + canvas);
canvas.ontouchstart = function(e) {
    console.log("touchstart canvas");
}
var foo = document.getElementById("foo");
console.log("foo = " + foo);
document.ontouchstart = function(e) {
    console.log("touchstart foo");
};
document.ontouchmove = function(e) {
    console.log("touchstart foo");
};
document.ontouchend = function(e) {
    console.log("touchstart foo");
};
	document.ongesturechange = function () {
		return false;
	}
*/
window.onload = function () {
    console.log("on load");
    /*
    var foo = document.getElementById("foo");
    console.log("foo = " + foo);
    foo.ontouchstart = function(e) {
        console.log("touchstart foo");
    };
    document.ontouchstart = function(e) {
        console.log("touchstart foo");
    };
    document.ongesturechange = function () {
        return false;
    };
    */
    console.log("anim frame = " + window.webkitRequestAnimationFrame);
    function step(timestamp) {
        console.log("stepping: " + timestamp)
        window.webkitRequestAnimationFrame(step);
    };
    window.webkitRequestAnimationFrame(step);
    
}
</script>

</body>
</html>
